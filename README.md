# é¡Œç›®ï¼šè¨˜å¸³ç®¡ç†ç³»çµ±
åœ¨Amazon RDSå»ºç«‹ä¸€å€‹é›²ç«¯è³‡æ–™åº«ï¼Œå¯ä»¥ä¾›ä½¿ç”¨è€…è¨˜å¸³ã€‚ç”¨æˆ¶å¯ä»¥å‰µå»ºè‡ªå·±çš„å¸³è™Ÿï¼Œå¯è¨˜éŒ„ç¸½è³‡ç”¢ã€æ”¶å…¥ã€æ”¯å‡ºã€è²¡å‹™ç¸½è¦½ã€äº¤æ˜“ç´€éŒ„ã€æ”¯å‡ºåˆ†é¡ã€‚
## æ‡‰ç”¨æƒ…å¢ƒ
1. æ¯æœˆè–ªæ°´è¦åŠƒ:
ä½¿ç”¨è€…æ¯æœˆé ˜è–ªæ°´å¾Œï¼Œå°‡è–ªè³‡è¼¸å…¥ç³»çµ±ï¼Œè¨­å®šå„²è“„ç›®æ¨™èˆ‡æ¯æœˆå„é¡æ”¯å‡ºä¸Šé™ï¼Œï¼ˆä¾‹å¦‚ï¼šé£²é£Ÿ $6000ï¼Œäº¤é€š $2000ï¼‰ã€‚

2. æ—¥å¸¸æ¶ˆè²»ç´€éŒ„:
æ¯èŠ±ä¸€ç­†éŒ¢ï¼Œå¿«é€Ÿæ‰“é–‹ App è¨˜éŒ„ï¼Œå¯ä»¥é€éæ¨™ç±¤æˆ–åˆ†é¡ï¼Œï¼ˆå¦‚ï¼šé£²é£Ÿã€äº¤é€šã€å¨›æ¨‚ï¼‰æ•´ç†è³‡æ–™ã€‚

3. æ”¯å‡ºçµ±è¨ˆèˆ‡è¶¨å‹¢åˆ†æ:
è‡ªå‹•ç”Ÿæˆæœˆå ±è¡¨æˆ–é€±å ±è¡¨ï¼Œé¡¯ç¤ºï¼šæ¯é¡æ”¯å‡ºé‡‘é¡ã€å“ªä¸€å¤©èŠ±æœ€å¤šéŒ¢ã€å“ªäº›åˆ†é¡è¶…å‡ºé ç®—ã€‚

5. å­˜éŒ¢æŒ‘æˆ°èˆ‡ç›®æ¨™è¿½è¹¤:
è¨­å®šçŸ­æœŸ/ä¸­æœŸå„²è“„ç›®æ¨™ï¼Œï¼ˆä¾‹å¦‚ï¼šä¸‰å€‹æœˆå­˜$15000ï¼‰ï¼Œç³»çµ±è¿½è¹¤é€²åº¦ï¼Œæé†’ç”¨æˆ¶ç¯€åˆ¶æ”¯å‡ºã€‚

| ä½¿ç”¨è€…        | ä½¿ç”¨æ¡ˆä¾‹èªªæ˜                                                             |    
|--------------|-------------------------------------------------------------------------|
| å­¸ç”Ÿ         |å¹³æ™‚ç´€éŒ„ä¸€äº›ç”Ÿæ´»èŠ±è²»(æ—©é¤ã€åˆé¤ã€æ™šé¤)ï¼Œæˆ–è€…ä¾äº›å¨›æ¨‚çš„è²»ç”¨ã€‚|
| ä¸Šç­æ—       |æ¸…æ¥šè¨˜éŒ„æ¯æœˆçš„å·¥è³‡æ”¶å…¥ï¼Œä»¥åŠå¹³æ™‚çš„ä¸€äº›ç”Ÿæ´»èŠ±è²»ï¼Œä¹Ÿèƒ½è¦åŠƒå±¬æ–¼è‡ªå·±çš„å„²è“„ç›®æ¨™ã€‚|
| æœƒè¨ˆå¸«       |ç´€éŒ„å¹³æ™‚å…¬å¸çš„æ”¶æ”¯æƒ…æ³ï¼Œä¹Ÿèƒ½åœ¨æœ€å¾Œçµ±æ•´æ™‚å°‡æ•´é«”æ”¶æ”¯ç•«æˆåœ–è¡¨ä¾›è€é—†çœ‹ã€‚|

## ç³»çµ±éœ€æ±‚èªªæ˜
| ç³»çµ±åŠŸèƒ½          | åŠŸèƒ½èªªæ˜                        |
|------------------|-------------------------------|
| è¨»å†Šç™»å…¥       |æ¯ä½ä½¿ç”¨è€…éƒ½å¯ä»¥è¨»å†Šä¸€å€‹è‡ªå·±çš„å¸³è™Ÿï¼Œè‡ªå·±ç®¡ç†è‡ªå·±å¸³è™Ÿå…§çš„é‡‘éŒ¢|
| æ—¥å¸¸æ¶ˆè²»ç´€éŒ„   |ä½¿ç”¨é€™å¯ä»¥è¨˜éŒ„è‡ªå·±æ—¥å¸¸çš„èŠ±è²»ï¼Œä¾‹å¦‚åƒé£¯ã€å¨›æ¨‚...ç­‰è²»ç”¨|
| å­˜éŒ¢æŒ‘æˆ°èˆ‡ç›®æ¨™è¿½è¹¤ |ä½¿ç”¨è€…å¯ä»¥ç‚ºè‡ªå·±è¨­ç«‹ä¸€å€‹å­˜éŒ¢çš„ç›®æ¨™ï¼Œä¸”ç³»çµ±æœƒè·Ÿä½ èªªç›®å‰é›¢ä½ çš„ç›®æ¨™é‚„å·®å¤šé |    

## ä½¿ç”¨æ¡ˆä¾‹ç¯„ä¾‹
| ä½¿ç”¨æƒ…å¢ƒ           | è§’è‰²ä»‹ç´¹                 | æ¡ˆä¾‹æè¿°                                                                 |
|--------------------|-----------------------------------|--------------------------------------------------------------------------|
| æ¯æœˆè–ªæ°´è¦åŠƒ       | å°å®‹ï¼Œ27 æ­²ä¸Šç­æ—      | æ¯æœˆè–ªè³‡ $35,000ï¼Œè¨­å®šé£²é£Ÿ $6000ã€äº¤é€š $2500 ç­‰é ç®—ï¼Œä¸¦ç›®æ¨™æ¯æœˆå­˜ $8000ã€‚ç³»çµ±æœƒæé†’å¥¹å“ªäº›é …ç›®å¿«è¦è¶…æ”¯ã€‚ |
| æ—¥å¸¸æ¶ˆè²»ç´€éŒ„       | è€é«˜ï¼Œ21 æ­²å¤§å­¸ç”Ÿ         | æ¯æ¬¡èŠ±è²»å¾Œé€éåˆ†é¡ï¼ˆå¦‚é£²é£Ÿã€äº¤é€šï¼‰å¿«é€Ÿè¨˜å¸³ï¼Œä½¿ç”¨ã€Œ#æœ‹å‹èšé¤ã€ç­‰æ¨™ç±¤è£œå……å…§å®¹ã€‚                       |
| å­˜éŒ¢æŒ‘æˆ°èˆ‡ç›®æ¨™è¿½è¹¤ | å°éƒ­ï¼Œ23 æ­²ç¤¾æœƒæ–°é®®äºº     | è¨­å®šä¸‰å€‹æœˆå…§å­˜ $15,000 çš„æ—…è²»ï¼Œç³»çµ±æ¯é€±è¿½è¹¤å„²è“„é€²åº¦ï¼Œæœªé”æ¨™æ™‚ç™¼å‡ºæé†’ä¸¦çµ¦äºˆé¼“å‹µã€‚                   |
| æ”¯å‡ºçµ±è¨ˆèˆ‡è¶¨å‹¢åˆ†æ | å¼µä¸‰ï¼Œ30 æ­²å…¬å¸æœƒè¨ˆå¸«    | ç³»çµ±è‡ªå‹•ç”Ÿæˆåœ–è¡¨é¡¯ç¤ºæ”¯å‡ºæ¯”ä¾‹ï¼Œå¹«åŠ©ä»–è·Ÿè€é—†å ±å‘Šç›®å‰å…¬å¸çš„æ”¶æ”¯æƒ…å½¢ã€‚                               |

## è³‡æ–™è¡¨
### ğŸ“‹ users ä½¿ç”¨è€…è³‡æ–™è¡¨

| æ¬„ä½åç¨±      | è³‡æ–™å‹åˆ¥  | é™åˆ¶æ¢ä»¶                      | èªªæ˜       |
|--------------|-----------|-------------------------------|------------|
| user_id      | INTEGER | PRIMARY KEY                   | ä½¿ç”¨è€… ID  |
| user_account | VARCHAR(255) | UNIQUE,NOT NULL            | ä½¿ç”¨è€…å¸³è™Ÿ |
| name         | VARCHAR(50)  | NOT NULL                      | å§“å    |
| total_assets | INTEGER   |DEFAULT 0 CHECK (total_assets >= 0)| ç¸½è³‡ç”¢|
| created_at   | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP     | å»ºç«‹æ™‚é–“   |

ä¸èƒ½æœ‰å¯†ç¢¼å„²å­˜åœ¨è³‡æ–™åº«ï¼Œè¦å¦å¤–æ‹‰è³‡æ–™åº«

### ğŸ“‹ users é™åˆ¶æ¢ä»¶

| æ¬„ä½åç¨±      | é™åˆ¶æ¢ä»¶                                                                              |
|--------------|---------------------------------------------------------------------------------------|
| user_id      | ç³»çµ±æœƒä¾ç…§ä½¿ç”¨è€…å»ºç«‹é †åºå»å°æ¯å€‹ä½¿ç”¨è€…çµ¦ä¸€å€‹æ•´æ•¸ç•¶ä½œIDï¼Œè©²æ•´æ•¸æ˜¯å¾1é–‹å§‹çš„ï¼Œæ¯å¤šä¸€å€‹ä½¿ç”¨è€…å°±+1 |
| user_account  | [1] |
| name         | åç¨±åªèƒ½æ˜¯è‹±æ–‡å­—æ¯å¤§å°å¯«Aaåˆ°Zzã€ä¸­æ–‡å­—ï¼Œä½†ä¸èƒ½æœ‰å…¶ä»–å¤–æ–‡æˆ–ç‰¹æ®Šç¬¦è™Ÿå­˜åœ¨ï¼Œé•·åº¦æœ€å¤šç‚º50|
| total_assets | ç¸½è³‡ç”¢åªèƒ½æ˜¯æ•¸å­—0~9çµ„æˆï¼Œä¸èƒ½æœ‰é™¤æ•¸å­—ä»¥å¤–æˆ–ç‰¹æ®Šç¬¦è™Ÿï¼Œä¸”å¿…é ˆå¤§æ–¼0|
| created_at   | å»ºç«‹æ™‚é–“æ ¼å¼ç‚º yyyyå¹´mmæœˆddæ—¥ï¼Œç³»çµ±æœƒè¨­å®šä½¿ç”¨è€…å»ºç«‹ç•¶ä¸‹çš„æ™‚é–“ç‚ºé è¨­å€¼|
---
[1]æ ¼å¼ç‚º local-part@domainã€‚local-part åƒ…èƒ½åŒ…å«è‹±æ–‡å­—æ¯ aâ€“zã€Aâ€“Zã€æ•¸å­— 0â€“9ã€ç‰¹æ®Šç¬¦è™Ÿ !#$%&'*+-/=?^_`{|}~ å’Œ `.`ï¼Œä½†é»è™Ÿä¸å¯ä½œç‚ºé–‹é ­ã€çµå°¾ï¼Œäº¦ä¸å¯é€£çºŒå‡ºç¾ï¼Œç³»çµ±ä¸æ¥å— `"..."@domain` çš„å¼•è™Ÿæ ¼å¼ã€‚<br>domain ç‚ºä»¥é»åˆ†éš”çš„å­—ä¸²ï¼Œæ¯æ®µæœ€å¤š 63 å­—å…ƒï¼Œç¸½é•·ä¸è¶…é 255 å­—å…ƒï¼Œåªèƒ½åŒ…å«è‹±æ•¸èˆ‡ `-`ï¼ˆä¸å¯ä½œç‚ºé–‹é ­æˆ–çµå°¾ï¼‰ï¼Œç³»çµ±äº¦ä¸æ¥å— (test) æ³¨é‡‹å½¢å¼ã€‚
### ğŸ“‹ users ä½¿ç”¨è€…è³‡æ–™è¡¨SQL
```sql
CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    user_account VARCHAR(255) NOT NULL UNIQUE,
    user_password VARCHAR(24) NOT NULL,
    name VARCHAR(50) NOT NULL,
    total_assets INT DEFAULT 0 CHECK (total_assets >= 0),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```
### ğŸ“‹ users ä½¿ç”¨è€…è³‡æ–™è¡¨SQLç¯„ä¾‹
```sql
INSERT INTO users (user_account, user_password, name, total_assets) VALUES
('xiaosong', 'abc123', 'å°å®‹', 350000),
('laogao', 'def456', 'è€é«˜', 80000),
('xiaoguo', 'ghi789', 'å°éƒ­', 28000),
('zhangsan', 'jkl000', 'å¼µä¸‰', 60000);
```
---
### ğŸ“‹ categories äº¤æ˜“åˆ†é¡è¡¨

| æ¬„ä½åç¨±   | è³‡æ–™å‹åˆ¥ | é™åˆ¶æ¢ä»¶                                | èªªæ˜         |
|------------|----------|-----------------------------------------|--------------|
| category_id| INTEGER  | PRIMARY KEY                             | åˆ†é¡ ID      |
| user_id    | INTEGER  | FOREIGN KEY â†’ users(user_id)            | ä½¿ç”¨è€… ID    |
| name       | CHAR(50) | NOT NULL, UNIQUE(user_id, name)      | åˆ†é¡åç¨±     |

### ğŸ“‹ categories å®Œæ•´æ€§é™åˆ¶

| æ¬„ä½åç¨±   | å®Œæ•´æ€§é™åˆ¶                                                        |
|------------|----------------------------------------------------------------|
| category_id|  ç³»çµ±æœƒæ ¹æ“šä½¿ç”¨è€…å»ºç«‹çš„é¡åˆ¥å»ç…§é †åºç·¨è™Ÿï¼Œç·¨è™Ÿæ˜¯å¾1é–‹å§‹çš„æ•´æ•¸ï¼Œåªè¦åˆ†é¡å»ºç«‹å°±æœƒ+1|
| user_id    |   æ˜¯usersè³‡æ–™è¡¨ä¸­çš„IDï¼Œç”±æ•¸å­—1é–‹å§‹æ¯æ¬¡+1çš„ç·¨è™Ÿ  |
| name       | åˆ†é¡çš„åç¨±å¯ä»¥æ˜¯ä¸­æ–‡å­—ã€è‹±æ–‡å­—ï¼Œä¸èƒ½æœ‰ç‰¹æ®Šç¬¦è™Ÿèˆ‡æ•¸å­—   |

### ğŸ“‹ categories äº¤æ˜“åˆ†é¡è¡¨SQL
```sql
CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    name VARCHAR(50) NOT NULL,
    UNIQUE (user_id, name),
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);
```
### ğŸ“‹ categories äº¤æ˜“åˆ†é¡è¡¨SQLç¯„ä¾‹
```sql
INSERT INTO categories (user_id, name) VALUES
(1, 'é£²é£Ÿ'), (1, 'äº¤é€š'),
(2, 'é£²é£Ÿ'), (2, 'å¨›æ¨‚'),
(3, 'æ—…éŠ'), (3, 'é£²æ–™'),
(4, 'æ¥­å‹™é–‹éŠ·'), (4, 'å ±å¸³ç”¨é¤');
```
---

### ğŸ“‹ transactions äº¤æ˜“ç´€éŒ„è¡¨

| æ¬„ä½åç¨±     | è³‡æ–™å‹åˆ¥ | é™åˆ¶æ¢ä»¶                                  | èªªæ˜           |
|--------------|----------|-------------------------------------------|----------------|
| transaction_id   | INTEGER   | PRIMARY KEY                   | äº¤æ˜“ ID|
| user_id      | INTEGER  | FOREIGN KEY â†’ users(user_id)              | ä½¿ç”¨è€… ID |
| category_id  | INTEGER  | FOREIGN KEY â†’ categories(category_id)     | åˆ†é¡ ID     |
| type         | CHAR(7)  |  NOT NULL CHECK(type='Income'ORtype='Expense')| æ”¶å…¥æ”¯å‡ºåˆ†é¡    |
| amount       |INT|               NOT NULL CHECK (amount >= 0)        | é‡‘é¡       |
| transaction_date | DATE     | NOT NULL                             | äº¤æ˜“æ—¥æœŸ       |
| description   | CHAR(255)|                                      | æ­¤é …äº¤æ˜“èªªæ˜  |
| created_at   | TIMESTAMP|        DEFAULT CURRENT_TIMESTAMP         | å‰µå»ºæ™‚é–“  |

### ğŸ“‹ transactions å®Œæ•´æ€§é™åˆ¶

| æ¬„ä½åç¨±     | å®Œæ•´æ€§é™åˆ¶                                                              |
|--------------|----------------------------------------------------------------------|
| transaction_id | ç³»çµ±æœƒæ ¹æ“šæ¯ä¸€ç­†äº¤æ˜“å»ºç«‹çš„é †åºå»çµ¦è©²äº¤æ˜“è¨‚å–®ä¸€å€‹ç·¨è™Ÿï¼Œè©²ç·¨è™Ÿæ˜¯ä¸€å€‹æ•´æ•¸ï¼Œå¾1é–‹å§‹çš„ï¼Œæ¯æœ‰ä¸€ç­†æ–°è¨‚å–®å°±+1|
| user_id      |ç”±æ•´æ•¸çµ„æˆï¼Œä¸åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€æ–‡å­—|
| category_id  |ç”±æ•´æ•¸çµ„æˆï¼Œä¸åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€æ–‡å­—|
| type         |åªèƒ½æ˜¯Incomeæˆ–Expenseå…©ç¨®è‹±æ–‡å–®å­—ï¼Œä¸èƒ½å«æœ‰æ•¸å­—ã€ç‰¹æ®Šç¬¦è™Ÿã€é™¤é€™å…©å€‹è‹±æ–‡å–®å­—å¤–çš„è‹±æ–‡å­—æ¯|
|amount        |é‡‘é¡åªèƒ½ç”±0åˆ°9çš„æ•¸å­—å»çµ„æˆï¼Œä¸èƒ½ç‚ºè² æ•¸å¿…é ˆå¤§æ–¼ç­‰æ–¼0ï¼Œä¹Ÿä¸èƒ½åŒ…å«æ–‡å­—ã€ç‰¹æ®Šç¬¦è™Ÿ|
| transaction_date |æ ¼å¼ç‚º yyyyå¹´mmæœˆddæ—¥ ã€‚yyyyå¹´æ˜¯ç”±0åˆ°9æ•¸å­—çµ„æˆï¼Œç¬¬ä¸€ä½ä¸å¾—ç‚º0ã€mmæœˆå¦‚æœç‚ºå€‹ä½æ•¸æœˆä»½ç¬¬ä¸€ä½å¿…é ˆè¼¸å…¥0ä¸”æ˜¯ç”±1åˆ°12æ•¸å­—çµ„æˆã€ddæ—¥å¦‚æœç‚ºå€‹ä½æ•¸æ—¥ç¬¬ä¸€ä½å¿…é ˆè¼¸å…¥0ä¸”æ˜¯ç”±1åˆ°31æ•¸å­—çµ„æˆï¼Œå¦‚æœç•¶æœˆæ²’æœ‰31è™Ÿï¼Œåœ¨å­˜å…¥è³‡æ–™åº«å‰ï¼Œç³»çµ±æœƒè‡ªå‹•æ›´æ”¹ç‚º30è™Ÿã€‚|
| description   |èªªæ˜å¯ä»¥ç”±ä¸­æ–‡å­—ã€è‹±æ–‡å­—Aaåˆ°Zzã€æ•¸å­—0åˆ°9çµ„æˆï¼Œä½†ä¸èƒ½åŒ…å«ç‰¹æ®Šç¬¦è™Ÿï¼Œé•·åº¦æœ€å¤šç‚º255|
| created_at   |ç³»çµ±æœƒæ ¹æ“šè©²äº¤æ˜“å»ºç«‹ç•¶ä¸‹ç´€éŒ„æ™‚é–“ï¼Œæ™‚é–“æ ¼å¼ç‚ºyyyyå¹´mmæœˆddæ—¥|

### ğŸ“‹ transactions äº¤æ˜“ç´€éŒ„è¡¨SQL
```sql
CREATE TABLE transactions (
    transaction_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    type VARCHAR(10) NOT NULL CHECK (type = 'Income' OR type = 'Expense'),
    amount INT NOT NULL CHECK (amount >= 0),
    category_id INT,
    transaction_date DATE NOT NULL,
    description CHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id),
    FOREIGN KEY (category_id) REFERENCES categories(category_id)
);
```
### ğŸ“‹ transactions äº¤æ˜“ç´€éŒ„è¡¨SQLç¯„ä¾‹
```sql
INSERT INTO transactions (user_id, type, amount, category_id, transaction_date, description)
VALUES
(1, 'Income', 35000, NULL, '2025-05-01', 'äº”æœˆè–ªè³‡'), -- å°å®‹çš„æœˆè–ª
(1, 'Expense', 180, 1, '2025-05-02', 'ä¾¿ç•¶ #åˆé¤'), -- å°å®‹çš„æ”¯å‡º
(2, 'Income', 8000, NULL, '2025-05-01', 'å…¼è·æ”¶å…¥'), -- è€é«˜çš„æ”¶å…¥
(2, 'Expense', 120, 3, '2025-05-02', 'æ»·å‘³å®µå¤œ #æœ‹å‹èšé¤'), -- è€é«˜çš„æ”¯å‡º
(3, 'Income', 28000, NULL, '2025-05-01', 'äº”æœˆè–ªè³‡'), -- å°éƒ­çš„æ”¶å…¥
(3, 'Expense', 1500, 5, '2025-05-05', 'é›²æ—é«˜éµç¥¨'), -- å°éƒ­çš„æ”¯å‡º
(4, 'Income', 60000, NULL, '2025-05-01', 'æœˆè–ª #å…¬å¸'), -- å¼µä¸‰çš„æ”¶å…¥
(4, 'Expense', 3200, 7, '2025-05-01', 'éƒ¨é–€èšé¤'), -- å¼µä¸‰çš„æ”¯å‡º
```
---

### ğŸ“‹ budgets æ¯æœˆé ç®—è¡¨

| æ¬„ä½åç¨±     | è³‡æ–™å‹åˆ¥ | é™åˆ¶æ¢ä»¶                                            | èªªæ˜             |
|--------------|----------|-----------------------------------------------------|------------------|
| budget_id    | INTEGER  | PRIMARY KEY                                 | é ç®— ID         |
| user_id      | INTEGER  | FOREIGN KEY â†’ users(user_id)                        | ä½¿ç”¨è€… ID        |
| category_id  | INTEGER  | FOREIGN KEY â†’ categories(category_id)               | åˆ†é¡ ID          |
| year         | INTEGER  | NOT NULL                                            | å¹´ä»½             |
| month        | INTEGER  | NOT NULL, CHECK (month BETWEEN 1 AND 12)            | æœˆä»½             |
| budget_limit | INTEGER  | NOT NULL, CHECK (budget_limit >= 0)                 | åˆ†é¡é ç®—é‡‘é¡     |
| spent_amount | INTEGER  | DEFAULT 0 CHECK (spent_amount >= 0)                 | å·²èŠ±è²»é ç®—       |

### ğŸ“‹ budgets å®Œæ•´æ€§é™åˆ¶

| æ¬„ä½åç¨±     | å®Œæ•´æ€§é™åˆ¶                                                                          |
|--------------|----------------------------------------------------------------------------------|
| budget_id    | ç³»çµ±æœƒæ ¹æ“šæ¯å€‹ä½¿ç”¨è€…å»ºç«‹é ç®—è¡¨ç…§é †åºçµ¦è©²è¡¨ç·¨è™Ÿï¼Œæ­¤ç·¨è™Ÿç‚ºç”±1é–‹å§‹çš„æ•´æ•¸ï¼Œæœ‰æ–°çš„é ç®—è¡¨å°±+1|
| user_id      |  ç”±æ•´æ•¸çµ„æˆï¼Œä¸åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€æ–‡å­—|
| category_id  |  ç”±æ•´æ•¸çµ„æˆï¼Œä¸åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€æ–‡å­—|
| year         | å¹´ä»½ç‚ºè¥¿å…ƒå¹´ï¼Œå¹´ä»½ç”±å››å€‹æ•¸å­—çµ„æˆï¼Œé–‹é ­ä¸å¾—ç‚º0ï¼Œå¾Œä¸‰ç¢¼å¯ä»¥æ˜¯0åˆ°9çš„æ•¸å­—å»çµ„æˆï¼Œä¸å¾—å«æœ‰æ–‡å­—ã€ç‰¹æ®Šç¬¦è™Ÿ|
| month        | åªèƒ½ç”±æ•¸å­—1åˆ°12ä»»ä¸€ï¼Œä¸èƒ½å«æœ‰æ–‡å­—ã€ç‰¹æ®Šç¬¦è™Ÿ|
| budget_limit | åªèƒ½æœ‰æ•¸å­—0åˆ°9å»çµ„æˆï¼Œä¸èƒ½å«æœ‰æ–‡å­—ã€ç‰¹æ®Šç¬¦è™Ÿï¼Œä¸”è©²æ•¸å­—å¿…é ˆå¤§æ–¼ç­‰æ–¼0ï¼Œä¸å¾—ç‚ºè² æ•¸   |
| spent_amount | åªèƒ½æœ‰æ•¸å­—0åˆ°9å»çµ„æˆï¼Œä¸èƒ½å«æœ‰æ–‡å­—ã€ç‰¹æ®Šç¬¦è™Ÿï¼Œä¸”è©²æ•¸å­—å¿…é ˆå¤§æ–¼ç­‰æ–¼0ï¼Œä¸å¾—ç‚ºè² æ•¸   |

### ğŸ“‹ budgets æ¯æœˆé ç®—è¡¨SQL
```sql
CREATE TABLE budgets (
    budget_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    category_id INT,
    year INT NOT NULL,
    month INT NOT NULL CHECK (month BETWEEN 1 AND 12),
    budget_limit INT NOT NULL CHECK (budget_limit >= 0),
    spent_amount INT DEFAULT 0 CHECK (spent_amount >= 0),
    FOREIGN KEY (user_id) REFERENCES users(user_id),
    FOREIGN KEY (category_id) REFERENCES categories(category_id)
);
```
### ğŸ“‹ budgets æ¯æœˆé ç®—è¡¨SQLç¯„ä¾‹
```sql
INSERT INTO budgets (user_id, category_id, year, month, budget_limit) VALUES
(1, 1, 2025, 5, 6000), (1, 2, 2025, 5, 2500),
(2, 3, 2025, 5, 3000), (2, 4, 2025, 5, 1500),
(3, 5, 2025, 5, 2000), (3, 6, 2025, 5, 800),
(4, 7, 2025, 5, 8000), (4, 8, 2025, 5, 4000);
```
---

### ğŸ“‹ saving_goals å„²è“„ç›®æ¨™è¡¨

| æ¬„ä½åç¨±       | è³‡æ–™å‹åˆ¥ | é™åˆ¶æ¢ä»¶                                | èªªæ˜             |
|----------------|----------|-----------------------------------------|------------------|
| goal_id        | INTEGER   | PRIMARY KEY                             | ç›®æ¨™ ID  |
| user_id        | INTEGER  | FOREIGN KEY â†’ users(user_id)            | ä½¿ç”¨è€… ID        |
| name           | VARCHAR(50) | NOT NULL                             | å„²è“„ç›®æ¨™åç¨±     |
| target_amount  | INTEGER  | NOT NULL, CHECK (target_amount > 0)     | ç›®æ¨™é‡‘é¡         |
| current_amount | INTEGER  | DEFAULT 0, CHECK (current_amount >= 0)  | ç›®å‰å·²å„²è“„é‡‘é¡   |
| start_date     | DATE     | NOT NULL                                | å„²è“„é–‹å§‹æ—¥æœŸ     |
| end_date       | DATE     | NOT NULL                                | å„²è“„çµæŸæ—¥æœŸ     |
| created_at     | TIMESTAMP| DEFAULT CURRENT_TIMESTAMP               | å»ºç«‹æ™‚é–“         |
| status     | VARCHAR(20)| DEFAULT 'Active' CHECK (status IN ('Active', 'Completed')) | ç›®æ¨™å®Œæˆç‹€æ…‹|

### ğŸ“‹ saving_goals å®Œæ•´æ€§é™åˆ¶

| æ¬„ä½åç¨±       | å®Œæ•´æ€§é™åˆ¶                                                             |
|----------------|----------------------------------------------------------------------|
| goal_id        | ç³»çµ±æœƒæ ¹æ“šä½¿ç”¨è€…å»ºç«‹çš„æ¯å€‹ç›®æ¨™å»ç…§é †åºç·¨è™Ÿï¼Œè©²ç·¨è™Ÿæ˜¯å¾1é–‹å§‹çš„æ•´æ•¸ï¼Œæ¯æœ‰ä¸€å€‹ç›®æ¨™å°±+1 |
| user_id        |    ç”±æ•´æ•¸çµ„æˆï¼Œä¸åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€æ–‡å­—     |
| name           | ç›®æ¨™åç¨±å¯ä»¥æ˜¯è‹±æ–‡ã€ä¸­æ–‡ï¼Œä¸èƒ½å«æœ‰æ•¸å­—ã€ç‰¹æ®Šç¬¦è™Ÿï¼Œåç¨±é•·åº¦æœ€é•·å¯ä»¥åˆ°50å€‹å­—|
| target_amount  | ç›®æ¨™é‡‘é¡åªèƒ½ç”±0åˆ°9çš„æ•¸å­—çµ„æˆï¼Œä¸èƒ½ç‚ºè² æ•¸ï¼Œä¸”ä¸å¾—åŒ…å«æ–‡å­—èˆ‡ç‰¹æ®Šç¬¦è™Ÿ|
| current_amount | å„²è“„é‡‘é¡åªèƒ½ç”±0åˆ°9çš„æ•¸å­—çµ„æˆï¼Œä¸èƒ½ç‚ºè² æ•¸ï¼Œä¸”ä¸å¾—åŒ…å«æ–‡å­—èˆ‡ç‰¹æ®Šç¬¦è™Ÿï¼Œé è¨­ç‚º0|
| start_date     | æ ¼å¼ç‚º yyyyå¹´mmæœˆddæ—¥ ã€‚yyyyå¹´æ˜¯ç”±0åˆ°9æ•¸å­—çµ„æˆï¼Œç¬¬ä¸€ä½ä¸å¾—ç‚º0ã€mmæœˆå¦‚æœç‚ºå€‹ä½æ•¸æœˆä»½ç¬¬ä¸€ä½å¿…é ˆè¼¸å…¥0ä¸”æ˜¯ç”±1åˆ°12æ•¸å­—çµ„æˆã€ddæ—¥å¦‚æœç‚ºå€‹ä½æ•¸æ—¥ç¬¬ä¸€ä½å¿…é ˆè¼¸å…¥0ä¸”æ˜¯ç”±1åˆ°31æ•¸å­—çµ„æˆï¼Œå¦‚æœç•¶æœˆæ²’æœ‰31è™Ÿï¼Œåœ¨å­˜å…¥è³‡æ–™åº«å‰ï¼Œç³»çµ±æœƒè‡ªå‹•æ›´æ”¹ç‚º30è™Ÿã€‚|
| end_date       | æ ¼å¼ç‚º yyyyå¹´mmæœˆddæ—¥ ã€‚yyyyå¹´æ˜¯ç”±0åˆ°9æ•¸å­—çµ„æˆï¼Œç¬¬ä¸€ä½ä¸å¾—ç‚º0ã€mmæœˆå¦‚æœç‚ºå€‹ä½æ•¸æœˆä»½ç¬¬ä¸€ä½å¿…é ˆè¼¸å…¥0ä¸”æ˜¯ç”±1åˆ°12æ•¸å­—çµ„æˆã€ddæ—¥å¦‚æœç‚ºå€‹ä½æ•¸æ—¥ç¬¬ä¸€ä½å¿…é ˆè¼¸å…¥0ä¸”æ˜¯ç”±1åˆ°31æ•¸å­—çµ„æˆï¼Œå¦‚æœç•¶æœˆæ²’æœ‰31è™Ÿï¼Œåœ¨å­˜å…¥è³‡æ–™åº«å‰ï¼Œç³»çµ±æœƒè‡ªå‹•æ›´æ”¹ç‚º30è™Ÿã€‚|
| created_at     | å»ºç«‹æ™‚é–“æœƒæ ¹æ“šä½¿ç”¨è€…å»ºç«‹è©²ç›®æ¨™çš„ç•¶ä¸‹å»è¨­å®šï¼Œæ ¼å¼ç‚ºè¥¿å…ƒå¹´yyyyå¹´mmæœˆddæ—¥|
| status         | ç‹€æ…‹æ˜¯æœƒæ ¹æ“šè©²ç›®æ¨™å®Œæˆèˆ‡å¦å»çµ¦å®šï¼Œåªèƒ½æ˜¯è‹±æ–‡å­—æ¯çš„Activeã€Completedï¼Œä¸èƒ½å«æœ‰æ•¸å­—ã€ç‰¹æ®Šç¬¦è™Ÿã€é™¤é€™å…©å€‹å–®å­—å¤–çš„è‹±æ–‡å­—æ¯|

### ğŸ“‹ saving_goals å„²è“„ç›®æ¨™è¡¨SQL
```sql
CREATE TABLE saving_goals (
    goal_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    name VARCHAR(50) NOT NULL,
    target_amount INT NOT NULL CHECK (target_amount > 0),
    current_amount INT DEFAULT 0 CHECK (current_amount >= 0),
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    status VARCHAR(20) DEFAULT 'Active' CHECK (status IN ('Active', 'Completed')),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);
```
### ğŸ“‹ saving_goals å„²è“„ç›®æ¨™è¡¨SQLç¯„ä¾‹
```sql
INSERT INTO saving_goals (user_id, name, target_amount, start_date, end_date) VALUES
(1, 'æ¯æœˆå„²è“„è¨ˆç•«', 8000, '2025-05-01', '2025-05-31'),
(2, 'ç­†é›»åŸºé‡‘', 20000, '2025-05-01', '2025-09-01'),
(3, 'æ—¥æœ¬è‡ªç”±è¡ŒåŸºé‡‘', 15000, '2025-05-01', '2025-07-31'),
(4, 'é€€ä¼‘å„²è“„ç›®æ¨™', 1000000, '2025-01-01', '2035-01-01');
```
---
### ä¸»éµå¤–éµ
| è³‡æ–™è¡¨(Table)      |     ä¸»éµ(Primary Key)    |                  èªªæ˜                 |
|-------------|------------|-----------------------------------------------------------|
| users       | user_id    |                  æ¯å€‹ä½¿ç”¨è€…éƒ½æœ‰å”¯ä¸€çš„è™Ÿç¢¼ä¾†è¾¨è­˜èº«åˆ†          |
| categories  | category_id|        æ¯å€‹å»ºç«‹çš„é¡åˆ¥éƒ½æœ‰å”¯ä¸€çš„ç·¨è™Ÿ                          |
| transactions    | transaction_id |           æ¯ä¸€ç­†æ”¯å‡ºç´€éŒ„éƒ½æœ‰å”¯ä¸€çš„ç·¨è™Ÿ               |
| budgets     | budget_id  |     æ¯ä¸€ç­†æœˆé ç®—è¡¨éƒ½æœ‰å”¯ä¸€çš„ç·¨è™Ÿ                             |
| saving_goals| goal_id    |   æ¯ä¸€å€‹å„²è“„ç›®æ¨™éƒ½æœ‰å”¯ä¸€çš„ç·¨è™Ÿ                               |

|    å­è³‡æ–™è¡¨(Child Table)    |     å¤–éµ(Foreign Key)     |  åƒç…§ä¸»è³‡æ–™è¡¨(Parent Table)  |                    èªªæ˜                     |
|--------------|------------------|----------------|---------------------------------------------|
| categories   | user_id          | users          | æ¯ä¸€å€‹é¡åˆ¥éƒ½æ˜¯é—œè¯åˆ°ä¸€ä½å·²ç¶“è¨»å†Šçš„ä½¿ç”¨è€…     |
| transactions     | user_id          | users          | æ¯ä¸€ç­†äº¤æ˜“ç´€éŒ„éƒ½æ˜¯é—œè¯åˆ°ä¸€ä½å·²ç¶“è¨»å†Šçš„ä½¿ç”¨è€… |
| transactions     | category_id      | categories     | æ¯ä¸€ç­†äº¤æ˜“ç´€éŒ„è¡¨æœƒå±¬æ–¼ä¸€å€‹å·²ç¶“å»ºç«‹çš„é¡åˆ¥     |
| budgets      | user_id          | users          | æ¯å€‹æ¯æœˆé ç®—è¡¨æœƒé—œè¯ä¸€ä½å·²ç¶“è¨»å†Šçš„ä½¿ç”¨è€…     |
| budgets      | category_id      | categories     | æ¯å€‹æ¯æœˆé ç®—è¡¨æœƒå±¬æ–¼ä¸€å€‹å·²ç¶“å»ºç«‹çš„é¡åˆ¥       |
| saving_goals | user_id          | users          | æ¯å€‹å„²è“„ç›®æ¨™è¡¨æœƒé—œè¯åˆ°ä¸€å€‹å·²ç¶“è¨»å†Šçš„ä½¿ç”¨è€…    |
---

### VIEWè¨­è¨ˆ
| åç¨±              | é¸æ“‡çš„å±¬æ€§                                                                                                                                | èªªæ˜                                                                                         |
| :-------------- | :----------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------- |
| æ‰€æœ‰äººå„²è“„ç›®æ¨™é€²åº¦       | â€¢ `saving_goals(goal_id, name, target_amount, current_amount, start_date, end_date, created_at, status)`<br>â€¢ `users(name)`          | å¯ä»¥æŸ¥çœ‹è³‡æ–™åº«å…§æ‰€æœ‰äººçš„åå­—ã€é–‹å§‹çµæŸå„²è“„æ™‚é–“ã€ç›®æ¨™é‡‘é¡ã€ç›®å‰å·²å­˜çš„é‡‘é¡ä»¥åŠç‹€æ…‹ï¼Œä¹‹å¾Œå¯ä»¥å†åˆ©ç”¨é€™å€‹è¡¨ä¾†æ‰¾å‡ºç‰¹å®šäººæœ‰é—œæ–¼å„²è“„ç›®æ¨™çš„è³‡æ–™ä¸”èƒ½ç®—å‡ºé›¢ç›®æ¨™é‚„å·®å¤šå°‘é‡‘é¡ã€å¤šå°‘æ™‚é–“...ç­‰ã€‚ |
| æ‰€æœ‰äººäº¤æ˜“ç´€éŒ„         | â€¢ `transactions(transaction_id, type, amount, transaction_date, description, created_at)`<br>â€¢ `categories(name)`<br>â€¢ `users(name)` | å¯ä»¥æŸ¥çœ‹è³‡æ–™åº«å…§æ‰€æœ‰äººçš„åå­—ã€æ¯ç­†äº¤æ˜“ç´€éŒ„ï¼ˆå«äº¤æ˜“æ—¥æœŸã€é‡‘é¡ã€é¡åˆ¥ï¼‰ï¼Œä¹‹å¾Œä¹Ÿèƒ½é€éæ­¤è¡¨æŸ¥è©¢å‡ºæƒ³è¦çš„äººçš„æ‰€æœ‰äº¤æ˜“ç´€éŒ„ã€‚                                 |
| æ‰€æœ‰äººå€‹äººè³‡æ–™         | â€¢ `users(user_id, user_account, name, total_assets, created_at)`<br>â€¢ `transactions(type, amount)`                                   | å¯ä»¥æŸ¥çœ‹è³‡æ–™åº«å…§æ‰€æœ‰äººçš„å€‹äººè³‡æ–™ï¼ˆå«åå­—ã€ç¸½è³‡ç”¢ã€å‰µå»ºæ™‚é–“ã€å¸³è™Ÿï¼‰ï¼Œä»¥åŠä»–äº¤æ˜“çš„ç¸½æ”¯å‡ºå«ç¸½èŠ±è²»ï¼Œä¹‹å¾Œä¹Ÿèƒ½é€éæ­¤è¡¨æŸ¥è©¢å‡ºæƒ³è¦çš„äººçš„å€‹äººè³‡æ–™ã€‚                      |
| æ‰€æœ‰äººæ‰€æœ‰åˆ†é¡çš„ç¸½æ”¶å…¥èˆ‡ç¸½æ”¯å‡º | â€¢ `users(user_id, name)`<br>â€¢ `categories(category_id, name)`<br>â€¢ `transactions(type, amount)`                                      | å¯ä»¥æŸ¥çœ‹è³‡æ–™åº«å…§æ‰€æœ‰äººæ¯ç¨®åˆ†é¡çš„ç¸½æ”¶å…¥ä»¥åŠç¸½æ”¯å‡ºï¼Œæ‰€ä»¥æœƒå¾è³‡æ–™åº«æ‹¿æ¯ç¨®åˆ†é¡ä¸‹çš„æ”¶å…¥ä»¥åŠæ”¯å‡ºåšé‹ç®—ï¼Œä»¥ä¾¿ä¹‹å¾Œå¯¦ç¾èƒ½è®“ä½¿ç”¨è€…æŸ¥çœ‹å€‹äººå¸³æˆ¶ä¸‹çš„æ‰€æœ‰åˆ†é¡çš„ç¸½æ”¶æ”¯ã€‚              |

### æ‰€æœ‰äººå„²è“„ç›®æ¨™é€²åº¦VIEWè¡¨SQL
```sql
CREATE VIEW saving_goal_status AS
SELECT 
    sg.goal_id,
    u.name AS user_name,
    sg.name AS goal_name,
    sg.target_amount,
    sg.current_amount,
    sg.status
FROM saving_goals sg
JOIN users u ON sg.user_id = u.user_id;
```
### æ‰€æœ‰äººäº¤æ˜“ç´€éŒ„VIEWè¡¨SQL
```sql
CREATE VIEW user_transaction_history AS
SELECT 
    t.transaction_id,
    u.name AS user_name,
    t.type,
    t.amount,
    c.name AS category_name,
    t.transaction_date,
    t.description,
    t.created_at
FROM transactions t
JOIN users u ON t.user_id = u.user_id
JOIN categories c ON t.category_id = c.category_id;
```
### æ‰€æœ‰äººå€‹äººè³‡æ–™VIEWè¡¨SQL
```sql
CREATE VIEW user_financial_summary AS
SELECT 
    u.user_id,
    u.name,
    u.user_account,
    u.total_assets,
    IFNULL(SUM(CASE WHEN t.type = 'Income' THEN t.amount ELSE 0 END), 0) AS total_income,
    IFNULL(SUM(CASE WHEN t.type = 'Expense' THEN t.amount ELSE 0 END), 0) AS total_expense
FROM users u
LEFT JOIN transactions t ON u.user_id = t.user_id
GROUP BY u.user_id, u.name, u.user_account, u.total_assets;
```
### æ‰€æœ‰äººæ‰€æœ‰åˆ†é¡çš„ç¸½æ”¶å…¥èˆ‡ç¸½æ”¯å‡ºVIEWè¡¨SQL
```sql
CREATE VIEW user_category_summary AS
SELECT
    u.user_id,
    u.name AS user_name,
    c.category_id,
    c.name AS category_name,
    IFNULL(SUM(CASE WHEN t.type = 'Income' THEN t.amount ELSE 0 END), 0) AS total_income,
    IFNULL(SUM(CASE WHEN t.type = 'Expense' THEN t.amount ELSE 0 END), 0) AS total_expense
FROM users u
JOIN categories c ON u.user_id = c.user_id
LEFT JOIN transactions t ON t.user_id = u.user_id AND t.category_id = c.category_id
GROUP BY u.user_id, u.name, c.category_id, c.name;
```

## ER Diagram(æ”¹)

![ER åœ–](image/æ–°ERåœ–.png)


## ğŸ† åœ˜éšŠæˆå“¡


| æˆå“¡ | å­¸è™Ÿ | ç­ç´š | å°ˆé¡Œè² è²¬éƒ¨åˆ† |
|------|------|------|------|
| [å®‹å”ç‡¦](./profile/å®‹å”ç‡¦.md) | 41143214 | è³‡å·¥ä¸‰ä¹™ | 
| [é«˜æµ©åŸ](./profile/é«˜æµ©åŸ.md) | 41143228 | è³‡å·¥ä¸‰ä¹™ | 
| [å¼µæ‰¿ç¿°](./profile/å¼µæ‰¿ç¿°.md) | 41143230 | è³‡å·¥ä¸‰ä¹™ | 
| [éƒ­å»ºæ°](./profile/éƒ­å»ºæ°.md) | 41143232 | è³‡å·¥ä¸‰ä¹™ | 

## ç°¡å ±
[ğŸ“¥ é»æˆ‘ä¸‹è¼‰ç°¡å ±](https://github.com/joshu0601/Database-G04/raw/main/report/è³‡æ–™åº«å ±å‘Š_æœŸä¸­.pptx)

